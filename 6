Сапер

#include <iostream>
#include <vector>

int main() {
    int m, n, k;
    std::cin >> m >> n >> k;

    std::vector<std::vector<int>> field(m, std::vector<int>(n, 0));

    for (int i = 0; i < k; ++i) {
        int x, y;
        std::cin >> x >> y;
        --x; --y;
        field[x][y] = -1;

        for (int dx = -1; dx <= 1; ++dx) {
            for (int dy = -1; dy <= 1; ++dy) {
                if (dx == 0 && dy == 0) continue;
                int nx = x + dx;
                int ny = y + dy;
                if (nx >= 0 && nx < m && ny >= 0 && ny < n && field[nx][ny] != -1) {
                    field[nx][ny]++;
                }
            }
        }
    }

    for (int i = 0; i < m; ++i) {
        for (int j = 0; j < n; ++j) {
            if (field[i][j] == -1) {
                std::cout << "*" << " ";
            } else {
                std::cout << field[i][j] << " ";
            }
        }
        std::cout << "\n";
    }
}
